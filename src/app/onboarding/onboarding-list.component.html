<div class="header pt-4">
    <div class="container-fluid">
        <div class="filter-card">
            <div class="filter-heading" style="margin: 0 0 -15px;">
                <h2 style="margin-bottom: 0px;margin-left: 30px;">CURRENT ONBOARDING LIST</h2> <button type="button" class="btn action-button" (click)="startOnboard()">
                    Start New Onboarding
                </button>
            </div>
        </div>
        <section class="content  m-2">
            <div>
                <accordion [isAnimated]="true">
                    <accordion-group heading="Filter" [isOpen]=false>
                        <form [formGroup]="filterForm">
                            <label for="date-range">Date Range</label>
                            <input id="date-range" type="text" placeholder="Select the dates to filter"
                                class="form-control col-md-2" formControlName="dates" bsDaterangepicker
                                [bsConfig]="{ adaptivePosition: true, ranges:ranges, containerClass:'theme-default',isAnimated: true, showWeekNumbers:false }"
                                (bsValueChange)="onValueChange($event)">
                        </form>
                        <div class="row">
                            <div style="padding: 15px 8px;">
                                <button type="submit" class="btn" [disabled]="!filterForm.valid"
                                    (click)="onFilter()">
                                    Filter
                                </button>
                            </div>
                        </div>
                    </accordion-group>
                </accordion>
            </div>
        </section>
        <div class="progress-modal" [ngClass]="{'active': showProgressModal}">
            <div class="container">
                <div class="top-section">
                    <div class="progress-container">
                        <div class="progress" [style.height]="progressHeight"></div>
                        <div class="circle" *ngFor="let step of steps; let i = index" [ngClass]="{'active': i < currentActive}">{{i + 1}}</div>
                    </div>
                    <img [src]="images[currentActive - 1]" alt="Step Image" class="top-image">
                </div>
                <div class="button-container">
                    <button class="btn" (click)="skip()">Skip</button>
                    <button class="btn" (click)="hide()">Don't show me again</button>
                    <div class="nav-buttons">
                        <button class="btn" (click)="prev()" [disabled]="currentActive === 1">Prev</button>
                        <button class="btn" (click)="next()" [disabled]="currentActive === steps.length">Next</button>
                        <button class="btn" (click)="finish()" [disabled]="currentActive < 7" >Finish</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="filter-card">
            <div class="filter-heading" style="margin: 0 0 -15px;">
                <h2 style="margin-bottom: 0px;">CURRENT ONBOARDING LIST</h2> <button type="button" class="btn action-button" (click)="startOnboard()">
                    Start New Onboarding
                </button>
            </div>
        </div> -->

 <section class="content m-2">
            <div class="row">
                <div class="cards-container">
                    <div class="col-lg-4 col-6">
                        <div class="card">
                            <div class="card-content">
                                <h3>Total Onboardings <span class="percentage"></span><span class="number" style="color: rgb(88, 225, 79)">{{totalCounts.total_onboardings}}</span></h3>
                                <!-- <p>  Total Onboardings....</p><span class="number" style="color: rgb(88, 225, 79)">{{totalCounts.total_onboardings}}</span> -->
                            </div>
                        <div class="card-icon">
                            <div class="icon-background1">
                                <svg width="24" height="24" fill="currentColor" class="bi bi-check2-square" viewBox="0 0 16 16">
                                    <path d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm10.354 5.646a.5.5 0 1 0-.708-.708L7 9.293 5.354 7.646a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0l5-5z"/>
                                </svg> 
                            </div>
                        </div>
                        <!-- <a routerLink="/reports" class="smaller-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a> -->
                    </div>
                    </div>
                    </div>
                <div class="col-lg-4 col-6">
                    <div class="card">
                        <div class="card-content">
                            <h3> Total Complete <span class="number" style="color: orange"  >{{totalCounts.onboardings_status_0}}</span></h3>
                        </div>
                        <div class="card-icon">
                            <div class="icon-background2">
                                <svg width="24" height="24" fill="currentColor" class="bi bi-calendar-check" viewBox="0 0 16 16">
                                    <path d="M10.854 8.854a.5.5 0 0 0-.708-.708L7.5 10.793 6.354 9.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>
                                    <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1zm1-1h12V3a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v1z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    </div>
                <div class="col-lg-4 col-6">
                    <div class="card">
                        <div class="card-content">
                            <h3>Pending <span class="percentage"></span>     <span class="number" style="color: red">{{totalCounts.pending_onboardings}}</span></h3>
                        </div>
                        <div class="card-icon">
                            <div class="icon-background3">
                                <svg width="24" height="24" fill="currentColor" class="bi bi-clock" viewBox="0 0 16 16">
                                    <path d="M8 3.5a.5.5 0 0 0-1 0v5l3.5 2.5a.5.5 0 0 0 .5-.866L8 7.634V3.5z"/>
                                    <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm0-1A7 7 0 1 1 8 1a7 7 0 0 1 0 14z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    </div></div>
            <!-- <div class="onboarding">
                <button type="button" class="btn action-button" (click)="startOnboard()">
                    Start New Onboarding
                </button>
            </div> -->
        </section>
        <!-- <section class="content  m-2">
            <div>
                <accordion [isAnimated]="true">
                    <accordion-group heading="Filter" [isOpen]=true>
                        <form [formGroup]="filterForm">
                            <label for="date-range">Date Range</label>
                            <input id="date-range" type="text" placeholder="Select the dates to filter"
                                class="form-control col-md-2" formControlName="dates" bsDaterangepicker
                                [bsConfig]="{ adaptivePosition: true, ranges:ranges, containerClass:'theme-default',isAnimated: true, showWeekNumbers:false }"
                                (bsValueChange)="onValueChange($event)">
                        </form>
                        <div class="row">
                            <div style="padding: 15px 8px;">
                                <button type="submit" class="btn" [disabled]="!filterForm.valid"
                                    (click)="onFilter()">
                                    Filter
                                </button>
                            </div>
                        </div>
                    </accordion-group>
                </accordion>
            </div>
        </section> -->
        <section class="sec">
            <div class="table-container">
               <section class="sec">
   
              <table class="table">
                  <thead  style="height: 50px;">
                      <tr class="tr">
                          <th>Date</th>
                          <th>Employee Name</th>
                          <th>Employment Start Date</th>
                          <th>Status</th>
                          <th colspan="2">% Completed</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let employee of employees" style="border: 1px solid #ddd;">
                          <td>{{ employee.Date }}</td>
                          <td>{{ employee.EmployeeName }}</td>
                          <td>{{ employee.StartDate }}</td>
                          <td>{{ employee.status }}</td>
                          
                          <td>
                              <span  style="cursor: pointer;"></span>
                              {{ employee.Completed }} 
                              <div style="display: inline-block; width: 100px; margin-left: 10px;">
                                <div style="background-color: #e0e0e0; border-radius: 13px; height: 8px;">
                                    <div [style.width]="employee.Completed + '%'" style="background-color: #4caf50; height: 100%; border-radius: 13px;"></div>
                                </div>
                            </div>  
                          </td>    
                          <td><span (click)="navigateToDetailsPage(employee)" class="fa fa-info-circle" title="View more"></span></td>    
                      </tr>
                  </tbody>
              </table>
          </section>
          </div>
      </section>